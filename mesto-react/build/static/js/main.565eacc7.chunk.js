(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{13:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(5),o=a.n(s),r=(a(4),a(2)),i=a.p+"static/media/Vector.bbe2a6ea.svg",u=a(0);var l=function(e){return Object(u.jsx)("header",{className:"header",children:Object(u.jsx)("div",{className:"header__logo",src:e.src,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f Mesto Russia"})})},d=a(6),p=a(7),j=new(function(){function e(t){Object(d.a)(this,e),this._url=t.url,this._headers=t.headers}return Object(p.a)(e,[{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"setUserInfo",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"addCard",value:function(e,t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"updateAvatarImage",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"addLike",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"removeLike",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}}]),e}())({url:"https://mesto.nomoreparties.co/v1/cohort-20",headers:{authorization:"525a9253-bff1-4ef9-85d2-df3d4a503fec","Content-Type":"application/json"}});var m=function(e){return Object(u.jsx)("template",{className:"template",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("img",{className:"card__image",src:e.card.link,alt:e.card.name,onClick:function(){e.onCardClick(e.card)}}),Object(u.jsx)("button",{className:"card__delete",type:"button"}),Object(u.jsxs)("div",{className:"card__group",children:[Object(u.jsx)("h3",{className:"card__text",children:e.card.name}),Object(u.jsxs)("div",{className:"card__like-container",children:[Object(u.jsx)("button",{className:"card__like",type:"button"}),Object(u.jsx)("span",{className:"card__like-counter"})]})]})]})})};var h=function(e){var t=n.a.useState(""),a=Object(r.a)(t,2),c=a[0],s=a[1],o=n.a.useState(""),i=Object(r.a)(o,2),l=i[0],d=i[1],p=n.a.useState(""),h=Object(r.a)(p,2),_=h[0],b=h[1],f=n.a.useState([]),O=Object(r.a)(f,2),x=O[0],N=O[1];return n.a.useEffect((function(){j.getUserInfo().then((function(e){s(e.name),d(e.about),b(e.avatar)})).catch((function(e){console.log(e)}))}),[]),n.a.useEffect((function(){j.getInitialCards().then((function(e){N(e)})).catch((function(e){console.log(e)}))}),[]),Object(u.jsxs)("main",{className:"content",children:[Object(u.jsxs)("section",{className:"profile",children:[Object(u.jsxs)("div",{className:"profile__avatar-container",children:[Object(u.jsx)("img",{className:"profile__avatar",src:_,alt:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),Object(u.jsx)("button",{className:"profile__avatar-button",onClick:e.onEditAvatar})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("h1",{className:"info__title",children:c}),Object(u.jsx)("p",{className:"info__subtitle",children:l}),Object(u.jsx)("button",{className:"info__button",type:"button",onClick:e.onEditProfile})]}),Object(u.jsx)("button",{className:"profile__add-button",type:"button",onClick:e.onAddPlace})]}),Object(u.jsx)("section",{className:"cards",children:x.map((function(t){return Object(u.jsx)(m,{card:t,onCardClick:e.onCardClick},t._id)}))})]})};var _=function(){return Object(u.jsx)("footer",{className:"footer",children:Object(u.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Mesto Russia"})})};var b=function(e){return Object(u.jsx)("div",{className:"popup popup_".concat(e.name," ").concat(e.isOpen?"popup_visible":""),children:Object(u.jsxs)("div",{className:"popup__window popup__window_".concat(e.name),children:[Object(u.jsx)("h2",{className:"popup__title",children:e.title}),e.children,Object(u.jsx)("button",{className:"popup__close-button popup__close-button_".concat(e.name),onClick:e.onClose}),Object(u.jsx)("form",{className:"popup__form popup__form_".concat(e.name),name:"".concat(e.name),noValidate:!0,children:Object(u.jsx)("button",{className:"popup__button popup__button_".concat(e.name),type:"submit",children:e.buttonName})})]})})};var f=function(e){return Object(u.jsx)("div",{className:"popup popup_full ".concat(e.card?"popup_visible":""),children:Object(u.jsxs)("div",{className:"popup__full-group",children:[Object(u.jsx)("img",{className:"popup__full-image",src:e.card.link,alt:e.card.name}),Object(u.jsx)("button",{type:"button",className:"popup__close-button popup__close-button_full",onClick:e.onClose}),Object(u.jsx)("p",{className:"popup__full-text",children:e.card.name})]})})};var O=function(){var e=n.a.useState(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=n.a.useState(!1),o=Object(r.a)(s,2),d=o[0],p=o[1],j=n.a.useState(!1),m=Object(r.a)(j,2),O=m[0],x=m[1],N=n.a.useState(!1),v=Object(r.a)(N,2),k=v[0],C=v[1];function g(){c(!1),x(!1),p(!1),C(!1)}return Object(u.jsxs)("div",{className:"body",children:[Object(u.jsxs)("div",{className:"page",children:[Object(u.jsx)(l,{src:i}),Object(u.jsx)(h,{onCardClick:function(e){C(e)},onEditProfile:function(){x(!0)},onEditAvatar:function(){c(!0)},onAddPlace:function(){p(!0)}}),Object(u.jsx)(_,{})]}),Object(u.jsx)(b,{name:"profileEdit",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:O,onClose:g,children:Object(u.jsxs)("form",{className:"popup__form",name:"infoForm",children:[Object(u.jsx)("input",{name:"infoTitle",type:"text",className:"popup__input",placeholder:"\u0418\u043c\u044f",maxLength:"40",minLength:"2",required:!0,id:"name",autoComplete:"off"}),Object(u.jsx)("span",{id:"name-error",className:"error"}),Object(u.jsx)("input",{name:"infoSubtitle",type:"text",className:"popup__input",placeholder:"\u041e \u0441\u0435\u0431\u0435",maxLength:"200",minLength:"2",required:!0,id:"about",autoComplete:"off"}),Object(u.jsx)("span",{id:"about-error",className:"error"})]})}),Object(u.jsx)(b,{name:"cardEdit",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",buttonName:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:d,onClose:g,children:Object(u.jsxs)("form",{name:"cardForm",className:"popup__form popup__form_card",children:[Object(u.jsx)("input",{name:"cardName",type:"text",className:"popup__input popup__input_card",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",maxLength:"30",minLength:"2",required:!0,id:"text",autoComplete:"off"}),Object(u.jsx)("span",{id:"text-error",className:"error"}),Object(u.jsx)("input",{name:"cardLink",type:"url",className:"popup__input popup__input_card",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,id:"url-card",autoComplete:"off"}),Object(u.jsx)("span",{id:"url-card-error",className:"error"})]})}),Object(u.jsx)(b,{name:"avatarEdit",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",buttonName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:a,onClose:g,children:Object(u.jsxs)("form",{name:"avatarForm",className:"popup__form popup__form_avatar",children:[Object(u.jsx)("input",{name:"avatar",type:"url",className:"popup__input popup__input_avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,id:"url-avatar",autoComplete:"off"}),Object(u.jsx)("span",{id:"url-avatar-error",className:"error"})]})}),Object(u.jsx)(b,{name:"cardDelete",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",buttonName:"\u0414\u0430"}),Object(u.jsx)(f,{card:k,onClose:g})]})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),s(e),o(e)}))};o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root")),x()},4:function(e,t,a){}},[[13,1,2]]]);
//# sourceMappingURL=main.565eacc7.chunk.js.map