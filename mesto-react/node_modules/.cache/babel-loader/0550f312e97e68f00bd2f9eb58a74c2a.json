{"ast":null,"code":"const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-20',\n  headers: {\n    authorization: '525a9253-bff1-4ef9-85d2-df3d4a503fec',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;\n\nclass Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  setUserInfo(newName, newAbout) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newName,\n        about: newAbout\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  addCard(name, image) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: image\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  updateAvatarImage(imageUrl) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: imageUrl\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  addLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n}","map":{"version":3,"sources":["C:/Users/milka/mesto-react/mesto-react/src/utils/Api.js"],"names":["api","Api","url","headers","authorization","constructor","options","_url","_headers","getInitialCards","fetch","then","res","ok","json","Promise","reject","status","getUserInfo","setUserInfo","newName","newAbout","method","body","JSON","stringify","name","about","addCard","image","link","deleteCard","cardId","updateAvatarImage","imageUrl","avatar","addLike","removeLike"],"mappings":"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","sourcesContent":["const api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-20',\r\n    headers: {\r\n       authorization: '525a9253-bff1-4ef9-85d2-df3d4a503fec',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  });\r\nexport default api;\r\n\r\nclass Api {\r\n  constructor(options) {\r\n      this._url = options.url;\r\n      this._headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n      return fetch(`${this._url}/cards`, {\r\n              headers: this._headers\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n\r\n  getUserInfo() {\r\n      return fetch(`${this._url}/users/me`, {\r\n              headers: this._headers\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n\r\n  setUserInfo(newName, newAbout) {\r\n      return fetch(`${this._url}/users/me`, {\r\n              method: 'PATCH',\r\n              headers: this._headers,\r\n              body: JSON.stringify({\r\n                  name: newName,\r\n                  about: newAbout\r\n              })\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n\r\n  addCard(name, image) {\r\n      return fetch(`${this._url}/cards`, {\r\n              method: 'POST',\r\n              headers: this._headers,\r\n              body: JSON.stringify({\r\n                  name: name,\r\n                  link: image\r\n              })\r\n\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n\r\n  }\r\n  deleteCard(cardId) {\r\n      return fetch(`${this._url}/cards/${cardId}`, {\r\n              method: 'DELETE',\r\n              headers: this._headers,\r\n\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n  updateAvatarImage(imageUrl) {\r\n      return fetch(`${this._url}/users/me/avatar`, {\r\n              method: 'PATCH',\r\n              headers: this._headers,\r\n              body: JSON.stringify({\r\n                  avatar: imageUrl\r\n              })\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n  addLike(cardId) {\r\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n              method: 'PUT',\r\n              headers: this._headers,\r\n\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n  removeLike(cardId) {\r\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n              method: 'DELETE',\r\n              headers: this._headers,\r\n\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}