{"ast":null,"code":"export default class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  initData() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n  }\n\n  setUserInfo(newName, newAbout) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newName,\n        about: newAbout\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  addCard(name, image) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: image\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  updateAvatarImage(imageUrl) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: imageUrl\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  addLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n}","map":{"version":3,"sources":["C:/Users/milka/mesto-react/mesto-react/src/utils/Api.js"],"names":["Api","constructor","options","_url","url","_headers","headers","getInitialCards","fetch","then","res","ok","json","Promise","reject","status","getUserInfo","initData","all","setUserInfo","newName","newAbout","method","body","JSON","stringify","name","about","addCard","image","link","deleteCard","cardId","updateAvatarImage","imageUrl","avatar","addLike","removeLike"],"mappings":"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","sourcesContent":["export default class Api {\r\n  constructor(options) {\r\n      this._url = options.url;\r\n      this._headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n      return fetch(`${this._url}/cards`, {\r\n              headers: this._headers\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n\r\n  getUserInfo() {\r\n      return fetch(`${this._url}/users/me`, {\r\n              headers: this._headers\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n  \r\n  initData() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\r\n  }\r\n\r\n\r\n  setUserInfo(newName, newAbout) {\r\n      return fetch(`${this._url}/users/me`, {\r\n              method: 'PATCH',\r\n              headers: this._headers,\r\n              body: JSON.stringify({\r\n                  name: newName,\r\n                  about: newAbout\r\n              })\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n\r\n  addCard(name, image) {\r\n      return fetch(`${this._url}/cards`, {\r\n              method: 'POST',\r\n              headers: this._headers,\r\n              body: JSON.stringify({\r\n                  name: name,\r\n                  link: image\r\n              })\r\n\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n\r\n  }\r\n  deleteCard(cardId) {\r\n      return fetch(`${this._url}/cards/${cardId}`, {\r\n              method: 'DELETE',\r\n              headers: this._headers,\r\n\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n  updateAvatarImage(imageUrl) {\r\n      return fetch(`${this._url}/users/me/avatar`, {\r\n              method: 'PATCH',\r\n              headers: this._headers,\r\n              body: JSON.stringify({\r\n                  avatar: imageUrl\r\n              })\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n  addLike(cardId) {\r\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n              method: 'PUT',\r\n              headers: this._headers,\r\n\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n  removeLike(cardId) {\r\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n              method: 'DELETE',\r\n              headers: this._headers,\r\n\r\n          })\r\n          .then(res => {\r\n              if (res.ok) {\r\n                  return res.json();\r\n              }\r\n              return Promise.reject(`Ошибка: ${res.status}`);\r\n          })\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}